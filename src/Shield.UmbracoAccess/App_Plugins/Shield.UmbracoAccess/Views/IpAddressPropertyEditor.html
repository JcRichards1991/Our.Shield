<div class="umb-el-wrap control-group umb-control-group" ng-controller="Shield.Properties.IpAddress as vm">
    <label class="control-label">
        <localize key="Shield.UmbracoAccess.Properties_AllowedIPsLabel">White-listed IP address(es)</localize>
        <small>
            <localize key="Shield.UmbracoAccess.Properties_AllowedIPsDescription">The allowed IP address(es) that can access the Backend Office Access Url.</localize>
        </small>
    </label>

    <div class="controls">
        <div class="umb-editor">
            <table class="ips-container">
                <thead>
                    <tr>
                        <th><localize key="Shield.UmbracoAccess.General_IpAddress">IP Address</localize></th>
                        <th><localize key="Shield.UmbracoAccess.General_Description">Description</localize></th>
                        <th></th>
                    </tr>
                </thead>

                <tbody>
                    <tr ng-repeat="ip in vm.value track by $index">
                        <td>
                            <span ng-show="!ip.editMode">{{ip.ipAddress}}</span>
                            <input type="text" ng-show="ip.editMode" ng-model="ip.ipAddress" />
                            <span ng-show="ip.editMode && !ip.valid" class="help-inline">{{ip.errorMsg}}</span>
                        </td>

                        <td>
                            <span ng-show="!ip.editMode">{{ip.description}}</span>
                            <input type="text" ng-show="ip.editMode" ng-model="ip.description" />
                        </td>

                        <td>
                            <span class="btn btn-info" ng-show="!ip.editMode" ng-click="vm.editIp(ip, false)">
                                <localize key="Shield.General_Edit">Edit</localize>
                            </span>
                            <span class="btn btn-success" ng-show="ip.editMode" ng-click="vm.editIp({{ip}}, true)">
                                <localize key="Shield.General_Update">Update</localize>
                            </span>
                            <span class="btn btn-danger" ng-click="vm.removeIp(ip)">
                                <localize key="Shield.General_Remove">Remove</localize>
                            </span>
                        </td>
                    </tr>
                </tbody>

                <tfoot>
                    <tr>
                        <td>
                            <input type="text" ng-model="vm.newIp.ipAddress" />
                            <span ng-show="!vm.newIp.valid" class="help-inline">{{vm.newIp.errorMsg}}</span>
                        </td>

                        <td>
                            <input type="text" ng-model="vm.newIp.description" />
                        </td>

                        <td>
                            <span class="btn btn-success" ng-click="vm.addIp()">
                                <localize key="Shield.General_Add">Add</localize>
                            </span>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
</div>