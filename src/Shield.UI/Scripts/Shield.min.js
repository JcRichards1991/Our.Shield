!function(){angular.module("shield",["umbraco","shield.resources"]),angular.module("shield.resources",[]),angular.module("umbraco").directive("ngIsolateApp",function(){return{scope:{},restrict:"AEC",compile:function(e,n){var o=e.html();return e.html(""),function(e,c){e.$destroy(),setTimeout(function(){var e=document.createElement("div");e.innerHTML=o,angular.bootstrap(e,[n.ngIsolateApp]),c.append(e)})}}}}),angular.module("shield").controller("UmbracoAccess.EditController",["$scope","notificationsService","UmbracoAccessResource",function(e,n,o){o.GetConfiguration().then(function(o){"null"===o.data||void 0===o.data?(n.error("Something went wrong getting the configuration, the error has been logged"),e.configuration={backendAccessUrl:"~/umbraco"}):e.configuration=o.data,e.defaultConfiguration={backendAccessUrl:e.configuration.backendAccessUrl}}),e.displayUmbracoAccessWarningMessage=!1,e.$watchCollection("configuration",function(){e.defaultConfiguration.backendAccessUrl!==e.configuration.backendAccessUrl?e.displayUmbracoAccessWarningMessage=!0:e.displayUmbracoAccessWarningMessage=!1}),e.submitUmbracoAccess=function(c){o.PostConfiguration(c).then(function(o){"null"===o.data||void 0===o.data||"false"===o.data?n.error("Something went wrong, the error has been logged"):(n.success("Successfully updated"),e.defaultConfiguration={backendAccessUrl:e.configuration.backendAccessUrl},e.displayUmbracoAccessWarningMessage=!1)})}}]),angular.module("shield.resources").factory("UmbracoAccessResource",["$http",function(e){var n="backoffice/Shield/UmbracoAccessApi/";return{PostConfiguration:function(o){return e.post(n+"PostConfiguration",angular.toJson(o))},GetConfiguration:function(){return e.get(n+"GetConfiguration")}}}])}();